{"dependencies":[{"name":"../transport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"q68AWRvh2qc0QUlp41HSOL9aMUA=","exportNames":["*"]}},{"name":"../util.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":48,"index":93}}],"key":"kanFP5HUYYYoVhDf3d7saim1ZXY=","exportNames":["*"]}},{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":48,"index":142}}],"key":"IB5HY76c7xC+tDEPCV8b/nK76DU=","exportNames":["*"]}},{"name":"../globals.node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":76,"index":219}}],"key":"RPWURBgga4vfm2ZRigByneogh6w=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.WS=_e.BaseWS=void 0;var e=r(d[0]),t=r(d[1]),s=r(d[2]),o=r(d[3]);const i=\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.product&&\"reactnative\"===navigator.product.toLowerCase();class n extends e.Transport{get name(){return\"websocket\"}doOpen(){const e=this.uri(),s=this.opts.protocols,o=i?{}:(0,t.pick)(this.opts,\"agent\",\"perMessageDeflate\",\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"rejectUnauthorized\",\"localAddress\",\"protocolVersion\",\"origin\",\"maxPayload\",\"family\",\"checkServerIdentity\");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,s,o)}catch(e){return this.emitReserved(\"error\",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:\"websocket connection closed\",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError(\"websocket error\",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],n=t===e.length-1;(0,s.encodePacket)(i,this.supportsBinary,e=>{try{this.doWrite(i,e)}catch(e){}n&&(0,o.nextTick)(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?\"wss\":\"ws\",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=(0,t.randomString)()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}}_e.BaseWS=n;const h=o.globalThisShim.WebSocket||o.globalThisShim.MozWebSocket;_e.WS=class extends n{createSocket(e,t,s){return i?new h(e,t,s):t?new h(e,t):new h(e)}doWrite(e,t){this.ws.send(t)}}});","lineCount":1,"map":[[1,103,1,0],[1,107,1,0,"_transport"],[1,109,1,0,"r"],[1,111,1,0,"d"],[1,113,1,0],[1,117,2,0,"_util"],[1,119,2,0,"r"],[1,121,2,0,"d"],[1,123,2,0],[1,127,3,0,"_engine"],[1,129,3,0,"r"],[1,131,3,0,"d"],[1,133,3,0],[1,137,4,0,"_globalsNode"],[1,139,4,0,"r"],[1,141,4,0,"d"],[1,143,4,0],[1,147,6,0],[1,153,6,6,"isReactNative"],[1,155,6,43],[1,175,6,29,"navigator"],[1,186,7,33],[1,203,7,11,"navigator"],[1,213,7,21,"product"],[1,222,8,40],[1,238,8,4,"navigator"],[1,248,8,14,"product"],[1,256,8,22,"toLowerCase"],[1,270,9,7],[1,276,9,13,"BaseWS"],[1,286,9,28,"Transport"],[1,298,10,4],[1,306,10,8,"name"],[1,309,11,8],[1,315,11,15],[1,326,12,4],[1,327,13,4,"doOpen"],[1,336,14,8],[1,342,14,14,"uri"],[1,344,14,20,"this"],[1,349,14,25,"uri"],[1,355,15,14,"protocols"],[1,357,15,26,"this"],[1,362,15,31,"opts"],[1,367,15,36,"protocols"],[1,377,17,14,"opts"],[1,379,17,21,"isReactNative"],[1,381,18,14],[1,382,18,15],[1,385,19,14],[1,387,19,14,"pick"],[1,395,19,19,"this"],[1,400,19,24,"opts"],[1,405,19,30],[1,413,19,39],[1,433,19,60],[1,439,19,67],[1,445,19,74],[1,458,19,88],[1,465,19,96],[1,470,19,102],[1,480,19,113],[1,501,19,135],[1,516,19,151],[1,534,19,170],[1,543,19,180],[1,556,19,194],[1,565,19,204],[1,588,20,12,"this"],[1,593,20,17,"opts"],[1,598,20,22,"extraHeaders"],[1,613,21,12,"opts"],[1,615,21,17,"headers"],[1,623,21,27,"this"],[1,628,21,32,"opts"],[1,633,21,37,"extraHeaders"],[1,647,23,8],[1,651,24,12,"this"],[1,656,24,17,"ws"],[1,659,24,22,"this"],[1,664,24,27,"createSocket"],[1,677,24,40,"uri"],[1,679,24,45,"protocols"],[1,681,24,56,"opts"],[1,683,25,8],[1,684,26,8],[1,690,26,15,"err"],[1,693,27,12],[1,700,27,19,"this"],[1,705,27,24,"emitReserved"],[1,718,27,37],[1,726,27,46,"err"],[1,728,28,8],[1,729,29,8,"this"],[1,734,29,13,"ws"],[1,737,29,16,"binaryType"],[1,748,29,29,"this"],[1,753,29,34,"socket"],[1,760,29,41,"binaryType"],[1,771,30,8,"this"],[1,776,30,13,"addEventListeners"],[1,795,31,4],[1,796,37,4,"addEventListeners"],[1,816,38,8,"this"],[1,821,38,13,"ws"],[1,824,38,16,"onopen"],[1,831,38,25],[1,836,39,16,"this"],[1,841,39,21,"opts"],[1,846,39,26,"autoUnref"],[1,857,40,16,"this"],[1,862,40,21,"ws"],[1,865,40,24,"_socket"],[1,873,40,32,"unref"],[1,881,42,12,"this"],[1,886,42,17,"onOpen"],[1,896,44,8,"this"],[1,901,44,13,"ws"],[1,904,44,16,"onclose"],[1,912,44,27,"closeEvent"],[1,915,44,42,"this"],[1,920,44,47,"onClose"],[1,928,44,55],[1,929,45,12,"description"],[1,941,45,25],[1,971,46,12,"context"],[1,979,46,21,"closeEvent"],[1,983,48,8,"this"],[1,988,48,13,"ws"],[1,991,48,16,"onmessage"],[1,1001,48,29,"ev"],[1,1004,48,36,"this"],[1,1009,48,41,"onData"],[1,1016,48,48,"ev"],[1,1018,48,51,"data"],[1,1024,49,8,"this"],[1,1029,49,13,"ws"],[1,1032,49,16,"onerror"],[1,1040,49,27,"e"],[1,1043,49,33,"this"],[1,1048,49,38,"onError"],[1,1056,49,46],[1,1074,49,65,"e"],[1,1076,50,4],[1,1077,51,4,"write"],[1,1083,51,10,"packets"],[1,1086,52,8,"this"],[1,1091,52,13,"writable"],[1,1101,52,24],[1,1103,55,8],[1,1107,55,13],[1,1111,55,17,"i"],[1,1113,55,21],[1,1115,55,24,"i"],[1,1117,55,28,"packets"],[1,1119,55,36,"length"],[1,1126,55,44,"i"],[1,1130,55,49],[1,1131,56,12],[1,1137,56,18,"packet"],[1,1139,56,27,"packets"],[1,1141,56,35,"i"],[1,1144,57,18,"lastPacket"],[1,1146,57,31,"i"],[1,1150,57,37,"packets"],[1,1152,57,45,"length"],[1,1159,57,54],[1,1162,58,12],[1,1164,58,12,"encodePacket"],[1,1180,58,25,"packet"],[1,1182,58,33,"this"],[1,1187,58,38,"supportsBinary"],[1,1202,58,55,"data"],[1,1206,62,16],[1,1210,63,20,"this"],[1,1215,63,25,"doWrite"],[1,1223,63,33,"packet"],[1,1225,63,41,"data"],[1,1227,64,16],[1,1228,65,16],[1,1234,65,23,"e"],[1,1237,66,16],[1,1238,67,20,"lastPacket"],[1,1242,70,20],[1,1244,70,20,"nextTick"],[1,1256,70,29],[1,1261,71,24,"this"],[1,1266,71,29,"writable"],[1,1276,71,40],[1,1278,72,24,"this"],[1,1283,72,29,"emitReserved"],[1,1296,72,42],[1,1306,73,23,"this"],[1,1311,73,28,"setTimeoutFn"],[1,1326,76,8],[1,1327,77,4],[1,1328,78,4,"doClose"],[1,1343,79,31],[1,1347,79,19,"this"],[1,1352,79,24,"ws"],[1,1357,80,12,"this"],[1,1362,80,17,"ws"],[1,1365,80,20,"onerror"],[1,1373,80,30],[1,1380,81,12,"this"],[1,1385,81,17,"ws"],[1,1388,81,20,"close"],[1,1396,82,12,"this"],[1,1401,82,17,"ws"],[1,1404,82,22],[1,1409,84,4],[1,1410,90,4,"uri"],[1,1416,91,8],[1,1422,91,14,"schema"],[1,1424,91,23,"this"],[1,1429,91,28,"opts"],[1,1434,91,33,"secure"],[1,1441,91,42],[1,1447,91,50],[1,1452,92,14,"query"],[1,1454,92,22,"this"],[1,1459,92,27,"query"],[1,1466,92,36],[1,1467,92,37],[1,1469,101,8],[1,1476,94,12,"this"],[1,1481,94,17,"opts"],[1,1486,94,22,"timestampRequests"],[1,1506,95,12,"query"],[1,1508,95,18,"this"],[1,1513,95,23,"opts"],[1,1518,95,28,"timestampParam"],[1,1535,95,46],[1,1537,95,46,"randomString"],[1,1556,98,13,"this"],[1,1561,98,18,"supportsBinary"],[1,1578,99,12,"query"],[1,1580,99,18,"b64"],[1,1584,99,24],[1,1587,101,15,"this"],[1,1592,101,20,"createUri"],[1,1602,101,30,"schema"],[1,1604,101,38,"query"],[1,1606,102,4],[1,1608,103,1,"_e"],[1,1611,103,1,"BaseWS"],[1,1620,104,0],[1,1626,104,6,"WebSocketCtor"],[1,1628,104,22,"globalThis"],[1,1645,104,33,"WebSocket"],[1,1656,104,46,"globalThis"],[1,1673,104,57,"MozWebSocket"],[1,1686,125,1,"_e"],[1,1689,125,1,"WS"],[1,1692,114,7],[1,1706,114,24,"BaseWS"],[1,1708,115,4,"createSocket"],[1,1721,115,17,"uri"],[1,1723,115,22,"protocols"],[1,1725,115,33,"opts"],[1,1728,116,8],[1,1735,116,16,"isReactNative"],[1,1737,120,14],[1,1741,120,18,"WebSocketCtor"],[1,1743,120,32,"uri"],[1,1745,120,37,"protocols"],[1,1747,120,48,"opts"],[1,1750,117,14,"protocols"],[1,1752,118,18],[1,1756,118,22,"WebSocketCtor"],[1,1758,118,36,"uri"],[1,1760,118,41,"protocols"],[1,1763,119,18],[1,1767,119,22,"WebSocketCtor"],[1,1769,119,36,"uri"],[1,1771,121,4],[1,1772,122,4,"doWrite"],[1,1780,122,12,"_packet"],[1,1782,122,21,"data"],[1,1785,123,8,"this"],[1,1790,123,13,"ws"],[1,1793,123,16,"send"],[1,1798,123,21,"data"],[1,1800,124,4],[1,1802,125,1],[1,1805]],"functionMap":{"names":["<global>","BaseWS","BaseWS#get__name","BaseWS#doOpen","BaseWS#addEventListeners","ws.onopen","ws.onclose","ws.onmessage","ws.onerror","BaseWS#write","encodePacket$argument_2","nextTick$argument_0","BaseWS#doClose","BaseWS#uri","WS","WS#createSocket","WS#doWrite"],"mappings":"AAA;OCQ;ICC;KDE;IEC;KFkB;IGM;yBCC;SDK;0BEC;UFG;4BGC,4BH;0BIC,yCJ;KHC;IQC;sDCO;6BCY;qBDG;aDE;KRE;IWC;8BJE,SI;KXI;IYM;KZY;CDC;OcW;ICC;KDM;IEC;KFE;CdC"}},"type":"js/module"}]}