{"dependencies":[{"name":"ws","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":25,"index":25}}],"key":"wL3sZyiL/7hQVF1TY61MLFTNHyg=","exportNames":["*"]}},{"name":"./websocket.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":26},"end":{"line":2,"column":40,"index":66}}],"key":"2j+P5AP6xm2u+2Jk+BmBUfbE1q8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.WS=void 0;var e=(function(e,o){if(\"function\"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,o){if(!o&&e&&e.__esModule)return e;var s,n,i={__proto__:null,default:e};if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return i;if(s=o?r:t){if(s.has(e))return s.get(e);s.set(e,i)}for(const o in e)\"default\"!==o&&{}.hasOwnProperty.call(e,o)&&((n=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(n.get||n.set)?s(i,o,n):i[o]=e[o]);return i})(e,o)})(_r(d[0])),o=_r(d[1]);class t extends o.BaseWS{createSocket(o,t,r){var s;if(null===(s=this.socket)||void 0===s?void 0:s._cookieJar){r.headers=r.headers||{},r.headers.cookie=\"string\"==typeof r.headers.cookie?[r.headers.cookie]:r.headers.cookie||[];for(const[e,o]of this.socket._cookieJar.cookies)r.headers.cookie.push(`${e}=${o.value}`)}return new e.WebSocket(o,t,r)}doWrite(e,o){const t={};if(e.options&&(t.compress=e.options.compress),this.opts.perMessageDeflate){(\"string\"==typeof o?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}this.ws.send(o,t)}}_e.WS=t});","lineCount":1,"map":[[1,94,1,0],[1,98,1,0,"ws"],[1,101,2,40],[1,110,2,40,"e"],[1,112,2,40,"t"],[1,115,2,40],[1,137,2,40,"WeakMap"],[1,145,2,40],[1,149,2,40,"r"],[1,151,2,40],[1,155,2,40,"WeakMap"],[1,163,2,40,"n"],[1,165,2,40],[1,169,2,40,"WeakMap"],[1,177,2,40],[1,193,2,40,"e"],[1,195,2,40,"t"],[1,198,2,40],[1,202,2,40,"t"],[1,205,2,40,"e"],[1,210,2,40,"__esModule"],[1,221,2,40],[1,228,2,40,"e"],[1,230,2,40],[1,234,2,40,"o"],[1,236,2,40,"i"],[1,238,2,40,"f"],[1,240,2,40],[1,241,2,40,"__proto__"],[1,251,2,40],[1,256,2,40,"default"],[1,264,2,40,"e"],[1,267,2,40],[1,277,2,40,"e"],[1,280,2,40],[1,297,2,40,"e"],[1,300,2,40],[1,319,2,40,"e"],[1,321,2,40],[1,328,2,40,"f"],[1,330,2,40],[1,333,2,40,"o"],[1,335,2,40,"t"],[1,337,2,40,"n"],[1,339,2,40,"r"],[1,341,2,40],[1,345,2,40,"o"],[1,347,2,40,"has"],[1,351,2,40,"e"],[1,354,2,40],[1,361,2,40,"o"],[1,363,2,40,"get"],[1,367,2,40,"e"],[1,370,2,40,"o"],[1,372,2,40,"set"],[1,376,2,40,"e"],[1,378,2,40,"f"],[1,380,2,40],[1,391,2,40,"t"],[1,396,2,40,"e"],[1,398,2,40],[1,410,2,40,"t"],[1,413,2,40],[1,416,2,40,"hasOwnProperty"],[1,431,2,40,"call"],[1,436,2,40,"e"],[1,438,2,40,"t"],[1,444,2,40,"i"],[1,447,2,40,"o"],[1,449,2,40,"Object"],[1,456,2,40,"defineProperty"],[1,473,2,40,"Object"],[1,480,2,40,"getOwnPropertyDescriptor"],[1,505,2,40,"e"],[1,507,2,40,"t"],[1,513,2,40,"i"],[1,515,2,40,"get"],[1,520,2,40,"i"],[1,522,2,40,"set"],[1,527,2,40,"o"],[1,529,2,40,"f"],[1,531,2,40,"t"],[1,533,2,40,"i"],[1,536,2,40,"f"],[1,538,2,40,"t"],[1,541,2,40,"e"],[1,543,2,40,"t"],[1,547,2,40],[1,554,2,40,"f"],[1,555,2,40],[1,558,2,40,"e"],[1,560,2,40,"t"],[1,562,2,40],[1,564,1,0,"_interopRequireWildcard"],[1,565,1,0,"_r"],[1,568,1,0,"d"],[1,570,1,0],[1,575,2,0,"_websocket"],[1,577,2,0,"_r"],[1,580,2,0,"d"],[1,582,2,0],[1,586,11,7],[1,592,11,13,"WS"],[1,602,11,24,"BaseWS"],[1,611,12,4,"createSocket"],[1,624,12,17,"uri"],[1,626,12,22,"protocols"],[1,628,12,33,"opts"],[1,631,13,8],[1,635,13,12,"_a"],[1,637,14,8],[1,640,14,35],[1,648,14,13,"_a"],[1,650,14,18,"this"],[1,655,14,23,"socket"],[1,669,14,45,"undefined"],[1,673,14,43,"_a"],[1,680,14,56,"undefined"],[1,682,14,68,"_a"],[1,684,14,71,"_cookieJar"],[1,695,14,83],[1,696,15,12,"opts"],[1,698,15,17,"headers"],[1,706,15,27,"opts"],[1,708,15,32,"headers"],[1,717,15,43],[1,718,15,44],[1,720,16,12,"opts"],[1,722,16,17,"headers"],[1,730,16,25,"cookie"],[1,737,17,47],[1,754,17,23,"opts"],[1,756,17,28,"headers"],[1,764,17,36,"cookie"],[1,771,18,22],[1,772,18,23,"opts"],[1,774,18,28,"headers"],[1,782,18,36,"cookie"],[1,790,19,22,"opts"],[1,792,19,27,"headers"],[1,800,19,35,"cookie"],[1,808,19,45],[1,811,20,12],[1,815,20,17],[1,821,20,24,"name"],[1,823,20,30,"cookie"],[1,828,20,41,"this"],[1,833,20,46,"socket"],[1,840,20,53,"_cookieJar"],[1,851,20,64,"cookies"],[1,859,21,16,"opts"],[1,861,21,21,"headers"],[1,869,21,29,"cookie"],[1,876,21,36,"push"],[1,881,21,41],[1,884,21,44,"name"],[1,889,21,52,"cookie"],[1,891,21,59,"value"],[1,899,23,8],[1,900,24,8],[1,907,24,15],[1,911,24,19,"ws"],[1,913,24,22,"WebSocket"],[1,923,24,32,"uri"],[1,925,24,37,"protocols"],[1,927,24,48,"opts"],[1,929,25,4],[1,930,26,4,"doWrite"],[1,938,26,12,"packet"],[1,940,26,20,"data"],[1,943,27,8],[1,949,27,14,"opts"],[1,951,27,21],[1,952,27,22],[1,954,31,8],[1,957,28,12,"packet"],[1,959,28,19,"options"],[1,969,29,12,"opts"],[1,971,29,17,"compress"],[1,980,29,28,"packet"],[1,982,29,35,"options"],[1,990,29,43,"compress"],[1,1000,31,12,"this"],[1,1005,31,17,"opts"],[1,1010,31,22,"perMessageDeflate"],[1,1028,31,41],[1,1030,34,12],[1,1047,34,32,"data"],[1,1049,34,39,"Buffer"],[1,1056,34,46,"byteLength"],[1,1067,34,57,"data"],[1,1070,34,65,"data"],[1,1072,34,70,"length"],[1,1080,35,22,"this"],[1,1085,35,27,"opts"],[1,1090,35,32,"perMessageDeflate"],[1,1108,35,50,"threshold"],[1,1120,36,16,"opts"],[1,1122,36,21,"compress"],[1,1132,36,32],[1,1134,38,8],[1,1135,39,8,"this"],[1,1140,39,13,"ws"],[1,1143,39,16,"send"],[1,1148,39,21,"data"],[1,1150,39,27,"opts"],[1,1152,40,4],[1,1154,41,1,"_e"],[1,1157,41,1,"WS"],[1,1161,41,1],[1,1164]],"functionMap":{"names":["<global>","WS","WS#createSocket","WS#doWrite"],"mappings":"AAA;OCU;ICC;KDa;IEC;KFc;CDC"}},"type":"js/module"}]}