{"dependencies":[{"name":"events","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":21,"index":137},"end":{"line":5,"column":38,"index":154}}],"key":"JsYPPZbiyTKGtgYi4nFi37XasmQ=","exportNames":["*"]}},{"name":"http","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":169},"end":{"line":6,"column":28,"index":184}}],"key":"yxqbxLTX0paWNp+looPTDqSlUdI=","exportNames":["*"]}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":19,"index":205},"end":{"line":7,"column":36,"index":222}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"]}},{"name":"crypto","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":23,"index":247},"end":{"line":8,"column":40,"index":264}}],"key":"qkQHogusroKbdlr5of4h1Mv5pUg=","exportNames":["*"]}},{"name":"./extension","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":18,"index":285},"end":{"line":10,"column":40,"index":307}}],"key":"j9VWPq7/dbuGxKTZLdSJJsd9Szs=","exportNames":["*"]}},{"name":"./permessage-deflate","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":26,"index":335},"end":{"line":11,"column":57,"index":366}}],"key":"Q2Pva8QskhgfG9XaS7nBCDBdIDE=","exportNames":["*"]}},{"name":"./subprotocol","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":20,"index":388},"end":{"line":12,"column":44,"index":412}}],"key":"KMLfux5H1PsSLbU84XlKzaDVUSA=","exportNames":["*"]}},{"name":"./websocket","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":18,"index":432},"end":{"line":13,"column":40,"index":454}}],"key":"Z9tk37I35leCkp6BqPC1DlwoIEg=","exportNames":["*"]}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":29,"index":485},"end":{"line":14,"column":51,"index":507}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),{Duplex:o}=r(d[2]),{createHash:n}=r(d[3]),c=r(d[4]),h=r(d[5]),l=r(d[6]),p=r(d[7]),{GUID:u,kWebSocket:v}=r(d[8]),f=/^[+/0-9A-Za-z]{22}==$/;function S(t,s){for(const o of Object.keys(s))t.on(o,s[o]);return function(){for(const o of Object.keys(s))t.removeListener(o,s[o])}}function k(t){t._state=2,t.emit('close')}function b(){this.destroy()}function _(t,o,n,c){n=n||s.STATUS_CODES[o],c={Connection:'close','Content-Type':'text/html','Content-Length':Buffer.byteLength(n),...c},t.once('finish',t.destroy),t.end(`HTTP/1.1 ${o} ${s.STATUS_CODES[o]}\\r\\n`+Object.keys(c).map(t=>`${t}: ${c[t]}`).join('\\r\\n')+'\\r\\n\\r\\n'+n)}function w(t,s,o,n,c){if(t.listenerCount('wsClientError')){const n=new Error(c);Error.captureStackTrace(n,w),t.emit('wsClientError',n,o,s)}else _(o,n,c)}m.exports=class extends t{constructor(t,o){if(super(),null==(t={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:p,...t}).port&&!t.server&&!t.noServer||null!=t.port&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError(\"One and only one of the \\\"port\\\", \\\"server\\\", or \\\"noServer\\\" options must be specified\");if(null!=t.port?(this._server=s.createServer((t,o)=>{const n=s.STATUS_CODES[426];o.writeHead(426,{'Content-Length':n.length,'Content-Type':'text/plain'}),o.end(n)}),this._server.listen(t.port,t.host,t.backlog,o)):t.server&&(this._server=t.server),this._server){const t=this.emit.bind(this,'connection');this._removeListeners=S(this._server,{listening:this.emit.bind(this,'listening'),error:this.emit.bind(this,'error'),upgrade:(s,o,n)=>{this.handleUpgrade(s,o,n,t)}})}!0===t.perMessageDeflate&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in \"noServer\" mode');return this._server?this._server.address():null}close(t){if(2===this._state)return t&&this.once('close',()=>{t(new Error('The server is not running'))}),void process.nextTick(k,this);if(t&&this.once('close',t),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(k,this);else{const t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{k(this)})}}shouldHandle(t){if(this.options.path){const s=t.url.indexOf('?');if((-1!==s?t.url.slice(0,s):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,s,o,n){s.on('error',b);const p=t.headers['sec-websocket-key'],u=t.headers.upgrade,v=+t.headers['sec-websocket-version'];if('GET'!==t.method){return void w(this,t,s,405,'Invalid HTTP method')}if(void 0===u||'websocket'!==u.toLowerCase()){return void w(this,t,s,400,'Invalid Upgrade header')}if(void 0===p||!f.test(p)){return void w(this,t,s,400,'Missing or invalid Sec-WebSocket-Key header')}if(8!==v&&13!==v){return void w(this,t,s,400,'Missing or invalid Sec-WebSocket-Version header')}if(!this.shouldHandle(t))return void _(s,400);const S=t.headers['sec-websocket-protocol'];let k=new Set;if(void 0!==S)try{k=l.parse(S)}catch(o){return void w(this,t,s,400,'Invalid Sec-WebSocket-Protocol header')}const y=t.headers['sec-websocket-extensions'],T={};if(this.options.perMessageDeflate&&void 0!==y){const o=new h(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=c.parse(y);t[h.extensionName]&&(o.accept(t[h.extensionName]),T[h.extensionName]=o)}catch(o){return void w(this,t,s,400,'Invalid or unacceptable Sec-WebSocket-Extensions header')}}if(this.options.verifyClient){const c={origin:t.headers[\"\"+(8===v?'sec-websocket-origin':'origin')],secure:!(!t.socket.authorized&&!t.socket.encrypted),req:t};if(2===this.options.verifyClient.length)return void this.options.verifyClient(c,(c,h,l,u)=>{if(!c)return _(s,h||401,l,u);this.completeUpgrade(T,p,k,t,s,o,n)});if(!this.options.verifyClient(c))return _(s,401)}this.completeUpgrade(T,p,k,t,s,o,n)}completeUpgrade(t,s,o,l,p,f,S){if(!p.readable||!p.writable)return p.destroy();if(p[v])throw new Error(\"server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration\");if(this._state>0)return _(p,503);const w=['HTTP/1.1 101 Switching Protocols','Upgrade: websocket','Connection: Upgrade',`Sec-WebSocket-Accept: ${n('sha1').update(s+u).digest('base64')}`],y=new this.options.WebSocket(null,void 0,this.options);if(o.size){const t=this.options.handleProtocols?this.options.handleProtocols(o,l):o.values().next().value;t&&(w.push(`Sec-WebSocket-Protocol: ${t}`),y._protocol=t)}if(t[h.extensionName]){const s=t[h.extensionName].params,o=c.format({[h.extensionName]:[s]});w.push(`Sec-WebSocket-Extensions: ${o}`),y._extensions=t}this.emit('headers',w,l),p.write(w.concat('\\r\\n').join('\\r\\n')),p.removeListener('error',b),y.setSocket(p,f,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(y),y.on('close',()=>{this.clients.delete(y),this._shouldEmitClose&&!this.clients.size&&process.nextTick(k,this)})),S(y,l)}}});","lineCount":1,"map":[[1,28,3,0],[1,41,5,0],[1,47,5,6,"EventEmitter"],[1,49,5,21,"require"],[1,51,5,28,"d"],[1,53,5,28],[1,57,6,6,"http"],[1,59,6,13,"require"],[1,61,6,20,"d"],[1,63,6,20],[1,68,7,6,"Duplex"],[1,75,7,8,"Duplex"],[1,78,7,19,"require"],[1,80,7,26,"d"],[1,82,7,26],[1,87,8,6,"createHash"],[1,98,8,8,"createHash"],[1,101,8,23,"require"],[1,103,8,30,"d"],[1,105,8,30],[1,109,10,6,"extension"],[1,111,10,18,"require"],[1,113,10,25,"d"],[1,115,10,25],[1,119,11,6,"PerMessageDeflate"],[1,121,11,26,"require"],[1,123,11,33,"d"],[1,125,11,33],[1,129,12,6,"subprotocol"],[1,131,12,20,"require"],[1,133,12,27,"d"],[1,135,12,27],[1,139,13,6,"WebSocket"],[1,141,13,18,"require"],[1,143,13,25,"d"],[1,145,13,25],[1,150,14,6,"GUID"],[1,155,14,8,"GUID"],[1,157,14,12,"kWebSocket"],[1,168,14,14,"kWebSocket"],[1,171,14,29,"require"],[1,173,14,36,"d"],[1,175,14,36],[1,179,16,6,"keyRegex"],[1,181,16,17],[1,205,452,0],[1,214,452,9,"addListeners"],[1,216,452,22,"server"],[1,218,452,30,"map"],[1,221,453,2],[1,225,453,7],[1,231,453,13,"event"],[1,236,453,22,"Object"],[1,243,453,29,"keys"],[1,248,453,34,"map"],[1,251,453,40,"server"],[1,253,453,47,"on"],[1,256,453,50,"event"],[1,258,453,57,"map"],[1,260,453,61,"event"],[1,264,455,2],[1,271,455,9],[1,282,456,4],[1,286,456,9],[1,292,456,15,"event"],[1,297,456,24,"Object"],[1,304,456,31,"keys"],[1,309,456,36,"map"],[1,312,457,6,"server"],[1,314,457,13,"removeListener"],[1,329,457,28,"event"],[1,331,457,35,"map"],[1,333,457,39,"event"],[1,336,459,2],[1,337,460,0],[1,338,468,0],[1,347,468,9,"emitClose"],[1,349,468,19,"server"],[1,352,469,2,"server"],[1,354,469,9,"_state"],[1,361,20,15],[1,363,470,2,"server"],[1,365,470,9,"emit"],[1,370,470,14],[1,378,471,0],[1,379,478,0],[1,388,478,9,"socketOnError"],[1,392,479,2,"this"],[1,397,479,7,"destroy"],[1,406,480,0],[1,407,491,0],[1,416,491,9,"abortHandshake"],[1,418,491,24,"socket"],[1,420,491,32,"code"],[1,422,491,38,"message"],[1,424,491,47,"headers"],[1,427,500,2,"message"],[1,429,500,12,"message"],[1,432,500,23,"http"],[1,434,500,28,"STATUS_CODES"],[1,447,500,41,"code"],[1,450,501,2,"headers"],[1,452,501,12],[1,453,502,4,"Connection"],[1,464,502,16],[1,472,503,4],[1,487,503,20],[1,499,504,4],[1,516,504,22,"Buffer"],[1,523,504,29,"byteLength"],[1,534,504,40,"message"],[1,540,505,7,"headers"],[1,543,508,2,"socket"],[1,545,508,9,"once"],[1,550,508,14],[1,559,508,24,"socket"],[1,561,508,31,"destroy"],[1,570,510,2,"socket"],[1,572,510,9,"end"],[1,576,511,4],[1,588,511,16,"code"],[1,593,511,24,"http"],[1,595,511,29,"STATUS_CODES"],[1,608,511,42,"code"],[1,617,512,6,"Object"],[1,624,512,13,"keys"],[1,629,512,18,"headers"],[1,632,513,9,"map"],[1,636,513,14,"h"],[1,639,513,20],[1,642,513,23,"h"],[1,648,513,29,"headers"],[1,650,513,37,"h"],[1,656,514,9,"join"],[1,661,514,14],[1,669,515,6],[1,680,516,6,"message"],[1,682,518,0],[1,683,531,0],[1,692,531,9,"abortHandshakeOrEmitwsClientError"],[1,694,531,43,"server"],[1,696,531,51,"req"],[1,698,531,56,"socket"],[1,700,531,64,"code"],[1,702,531,70,"message"],[1,705,532,2],[1,708,532,6,"server"],[1,710,532,13,"listenerCount"],[1,724,532,27],[1,741,532,45],[1,742,533,4],[1,748,533,10,"err"],[1,750,533,16],[1,754,533,20,"Error"],[1,760,533,26,"message"],[1,763,534,4,"Error"],[1,769,534,10,"captureStackTrace"],[1,787,534,28,"err"],[1,789,534,33,"abortHandshakeOrEmitwsClientError"],[1,792,536,4,"server"],[1,794,536,11,"emit"],[1,799,536,16],[1,815,536,33,"err"],[1,817,536,38,"socket"],[1,819,536,46,"req"],[1,821,537,2],[1,827,538,4,"abortHandshake"],[1,829,538,19,"socket"],[1,831,538,27,"code"],[1,833,538,33,"message"],[1,835,540,0],[1,836,440,0,"module"],[1,838,440,7,"exports"],[1,846,27,0],[1,860,27,30,"EventEmitter"],[1,862,59,2,"constructor"],[1,874,59,14,"options"],[1,876,59,23,"callback"],[1,879,81,4],[1,882,60,4,"super"],[1,890,82,23],[1,897,62,4,"options"],[1,899,62,14],[1,900,63,6,"allowSynchronousEvents"],[1,924,63,30],[1,926,64,6,"autoPong"],[1,936,64,16],[1,938,65,6,"maxPayload"],[1,949,65,16],[1,959,66,6,"skipUTF8Validation"],[1,979,66,26],[1,981,67,6,"perMessageDeflate"],[1,1000,67,25],[1,1002,68,6,"handleProtocols"],[1,1018,68,23],[1,1023,69,6,"clientTracking"],[1,1039,69,22],[1,1041,70,6,"verifyClient"],[1,1054,70,20],[1,1059,71,6,"noServer"],[1,1069,71,16],[1,1071,72,6,"backlog"],[1,1079,72,15],[1,1084,73,6,"server"],[1,1091,73,14],[1,1096,74,6,"host"],[1,1101,74,12],[1,1106,75,6,"path"],[1,1111,75,12],[1,1116,76,6,"port"],[1,1121,76,12],[1,1126,77,6,"WebSocket"],[1,1141,78,9,"options"],[1,1145,82,15,"port"],[1,1152,82,32,"options"],[1,1154,82,40,"server"],[1,1163,82,51,"options"],[1,1165,82,59,"noServer"],[1,1175,83,23],[1,1181,83,7,"options"],[1,1183,83,15,"port"],[1,1190,83,32,"options"],[1,1192,83,40,"server"],[1,1200,83,50,"options"],[1,1202,83,58,"noServer"],[1,1213,84,7,"options"],[1,1215,84,15,"server"],[1,1223,84,25,"options"],[1,1225,84,33,"noServer"],[1,1234,86,6],[1,1240,86,12],[1,1244,86,16,"TypeError"],[1,1254,86,25],[1,1345,112,4],[1,1348,92,24],[1,1354,92,8,"options"],[1,1356,92,16,"port"],[1,1362,93,6,"this"],[1,1367,93,11,"_server"],[1,1375,93,21,"http"],[1,1377,93,26,"createServer"],[1,1390,93,39],[1,1391,93,40,"req"],[1,1393,93,45,"res"],[1,1398,94,8],[1,1404,94,14,"body"],[1,1406,94,21,"http"],[1,1408,94,26,"STATUS_CODES"],[1,1421,94,39],[1,1426,96,8,"res"],[1,1428,96,12,"writeHead"],[1,1438,96,22],[1,1442,96,27],[1,1443,97,10],[1,1460,97,28,"body"],[1,1462,97,33,"length"],[1,1469,98,10],[1,1484,98,26],[1,1499,100,8,"res"],[1,1501,100,12,"end"],[1,1505,100,16,"body"],[1,1510,102,6,"this"],[1,1515,102,11,"_server"],[1,1523,102,19,"listen"],[1,1530,103,8,"options"],[1,1532,103,16,"port"],[1,1537,104,8,"options"],[1,1539,104,16,"host"],[1,1544,105,8,"options"],[1,1546,105,16,"backlog"],[1,1554,106,8,"callback"],[1,1558,108,15,"options"],[1,1560,108,23,"server"],[1,1569,109,6,"this"],[1,1574,109,11,"_server"],[1,1582,109,21,"options"],[1,1584,109,29,"server"],[1,1592,112,8,"this"],[1,1597,112,13,"_server"],[1,1605,112,22],[1,1606,113,6],[1,1612,113,12,"emitConnection"],[1,1614,113,29,"this"],[1,1619,113,34,"emit"],[1,1624,113,39,"bind"],[1,1629,113,44,"this"],[1,1634,113,50],[1,1648,115,6,"this"],[1,1653,115,11,"_removeListeners"],[1,1670,115,30,"addListeners"],[1,1672,115,43,"this"],[1,1677,115,48,"_server"],[1,1685,115,57],[1,1686,116,8,"listening"],[1,1696,116,19,"this"],[1,1701,116,24,"emit"],[1,1706,116,29,"bind"],[1,1711,116,34,"this"],[1,1716,116,40],[1,1729,117,8,"error"],[1,1735,117,15,"this"],[1,1740,117,20,"emit"],[1,1745,117,25,"bind"],[1,1750,117,30,"this"],[1,1755,117,36],[1,1764,118,8,"upgrade"],[1,1772,118,17,"upgrade"],[1,1773,118,18,"req"],[1,1775,118,23,"socket"],[1,1777,118,31,"head"],[1,1782,119,10,"this"],[1,1787,119,15,"handleUpgrade"],[1,1801,119,29,"req"],[1,1803,119,34,"socket"],[1,1805,119,42,"head"],[1,1807,119,48,"emitConnection"],[1,1812,122,4],[1,1814,124,38],[1,1818,124,8,"options"],[1,1820,124,16,"perMessageDeflate"],[1,1840,124,44,"options"],[1,1842,124,52,"perMessageDeflate"],[1,1860,124,72],[1,1861,124,73],[1,1864,125,8,"options"],[1,1866,125,16,"clientTracking"],[1,1883,126,6,"this"],[1,1888,126,11,"clients"],[1,1896,126,21],[1,1900,126,25,"Set"],[1,1904,127,6,"this"],[1,1909,127,11,"_shouldEmitClose"],[1,1927,127,30],[1,1930,130,4,"this"],[1,1935,130,9,"options"],[1,1943,130,19,"options"],[1,1945,131,4,"this"],[1,1950,131,9,"_state"],[1,1957,18,16],[1,1958,132,2],[1,1959,143,2,"address"],[1,1969,144,4],[1,1972,144,8,"this"],[1,1977,144,13,"options"],[1,1985,144,21,"noServer"],[1,1994,145,6],[1,2000,145,12],[1,2004,145,16,"Error"],[1,2010,145,22],[1,2056,148,4],[1,2063,148,9,"this"],[1,2068,148,14,"_server"],[1,2076,149,11,"this"],[1,2081,149,16,"_server"],[1,2089,149,24,"address"],[1,2099,148,30],[1,2103,150,2],[1,2104,159,2,"close"],[1,2110,159,8,"cb"],[1,2113,160,4],[1,2116,20,15],[1,2120,160,8,"this"],[1,2125,160,13,"_state"],[1,2132,168,6],[1,2139,161,10,"cb"],[1,2142,162,8,"this"],[1,2147,162,13,"once"],[1,2152,162,18],[1,2160,162,27],[1,2165,163,10,"cb"],[1,2167,163,13],[1,2171,163,17,"Error"],[1,2177,163,23],[1,2214,167,6,"process"],[1,2222,167,14,"nextTick"],[1,2231,167,23,"emitClose"],[1,2233,167,34,"this"],[1,2239,173,4],[1,2242,171,8,"cb"],[1,2245,171,12,"this"],[1,2250,171,17,"once"],[1,2255,171,22],[1,2263,171,31,"cb"],[1,2266,19,16],[1,2270,173,8,"this"],[1,2275,173,13,"_state"],[1,2282,176,4],[1,2285,174,4,"this"],[1,2290,174,9,"_state"],[1,2297,19,16],[1,2299,176,8,"this"],[1,2304,176,13,"options"],[1,2312,176,21,"noServer"],[1,2322,176,33,"this"],[1,2327,176,38,"options"],[1,2335,176,46,"server"],[1,2342,177,10,"this"],[1,2347,177,15,"_server"],[1,2357,178,8,"this"],[1,2362,178,13,"_removeListeners"],[1,2381,179,8,"this"],[1,2386,179,13,"_removeListeners"],[1,2403,179,32,"this"],[1,2408,179,37,"_server"],[1,2416,179,47],[1,2422,182,10,"this"],[1,2427,182,15,"clients"],[1,2436,183,13,"this"],[1,2441,183,18,"clients"],[1,2449,183,26,"size"],[1,2454,186,10,"this"],[1,2459,186,15,"_shouldEmitClose"],[1,2477,186,34],[1,2479,189,8,"process"],[1,2487,189,16,"nextTick"],[1,2496,189,25,"emitClose"],[1,2498,189,36,"this"],[1,2508,191,11],[1,2509,192,6],[1,2515,192,12,"server"],[1,2517,192,21,"this"],[1,2522,192,26,"_server"],[1,2530,194,6,"this"],[1,2535,194,11,"_removeListeners"],[1,2554,195,6,"this"],[1,2559,195,11,"_removeListeners"],[1,2576,195,30,"this"],[1,2581,195,35,"_server"],[1,2589,195,45],[1,2594,201,6,"server"],[1,2596,201,13,"close"],[1,2602,201,19],[1,2607,202,8,"emitClose"],[1,2609,202,18,"this"],[1,2616,204,4],[1,2617,205,2],[1,2618,214,2,"shouldHandle"],[1,2631,214,15,"req"],[1,2634,215,4],[1,2637,215,8,"this"],[1,2642,215,13,"options"],[1,2650,215,21,"path"],[1,2655,215,27],[1,2656,216,6],[1,2662,216,12,"index"],[1,2664,216,20,"req"],[1,2666,216,24,"url"],[1,2670,216,28,"indexOf"],[1,2678,216,36],[1,2683,219,6],[1,2688,217,28],[1,2692,217,23,"index"],[1,2694,217,38,"req"],[1,2696,217,42,"url"],[1,2700,217,46,"slice"],[1,2706,217,52],[1,2708,217,55,"index"],[1,2711,217,64,"req"],[1,2713,217,68,"url"],[1,2720,219,23,"this"],[1,2725,219,28,"options"],[1,2733,219,36,"path"],[1,2738,219,42],[1,2745,219,49],[1,2746,220,4],[1,2747,222,4],[1,2754,222,11],[1,2755,223,2],[1,2756,234,2,"handleUpgrade"],[1,2770,234,16,"req"],[1,2772,234,21,"socket"],[1,2774,234,29,"head"],[1,2776,234,35,"cb"],[1,2779,235,4,"socket"],[1,2781,235,11,"on"],[1,2784,235,14],[1,2792,235,23,"socketOnError"],[1,2795,237,4],[1,2801,237,10,"key"],[1,2803,237,16,"req"],[1,2805,237,20,"headers"],[1,2813,237,28],[1,2834,238,10,"upgrade"],[1,2836,238,20,"req"],[1,2838,238,24,"headers"],[1,2846,238,32,"upgrade"],[1,2854,239,10,"version"],[1,2857,239,21,"req"],[1,2859,239,25,"headers"],[1,2867,239,33],[1,2892,241,4],[1,2895,241,23],[1,2903,241,8,"req"],[1,2905,241,12,"method"],[1,2912,241,30],[1,2913,244,6],[1,2925,243,6,"abortHandshakeOrEmitwsClientError"],[1,2927,243,40,"this"],[1,2932,243,46,"req"],[1,2934,243,51,"socket"],[1,2936,243,59],[1,2940,242,22],[1,2962,245,4],[1,2963,247,4],[1,2971,247,20,"undefined"],[1,2975,247,8,"upgrade"],[1,2978,247,59],[1,2992,247,33,"upgrade"],[1,2994,247,41,"toLowerCase"],[1,3008,247,72],[1,3009,250,6],[1,3021,249,6,"abortHandshakeOrEmitwsClientError"],[1,3023,249,40,"this"],[1,3028,249,46,"req"],[1,3030,249,51,"socket"],[1,3032,249,59],[1,3036,248,22],[1,3061,251,4],[1,3062,253,4],[1,3070,253,16,"undefined"],[1,3074,253,8,"key"],[1,3078,253,30,"keyRegex"],[1,3080,253,39,"test"],[1,3085,253,44,"key"],[1,3088,253,50],[1,3089,256,6],[1,3101,255,6,"abortHandshakeOrEmitwsClientError"],[1,3103,255,40,"this"],[1,3108,255,46,"req"],[1,3110,255,51,"socket"],[1,3112,255,59],[1,3116,254,22],[1,3162,257,4],[1,3163,259,4],[1,3166,259,20],[1,3170,259,8,"version"],[1,3173,259,37],[1,3178,259,25,"version"],[1,3180,259,41],[1,3181,262,6],[1,3193,261,6,"abortHandshakeOrEmitwsClientError"],[1,3195,261,40,"this"],[1,3200,261,46,"req"],[1,3202,261,51,"socket"],[1,3204,261,59],[1,3208,260,22],[1,3258,263,4],[1,3259,265,4],[1,3263,265,9,"this"],[1,3268,265,14,"shouldHandle"],[1,3281,265,27,"req"],[1,3284,267,6],[1,3296,266,6,"abortHandshake"],[1,3298,266,21,"socket"],[1,3300,266,29],[1,3305,270,4],[1,3311,270,10,"secWebSocketProtocol"],[1,3313,270,33,"req"],[1,3315,270,37,"headers"],[1,3323,270,45],[1,3349,271,4],[1,3353,271,8,"protocols"],[1,3355,271,20],[1,3359,271,24,"Set"],[1,3363,273,4],[1,3371,273,33,"undefined"],[1,3375,273,8,"secWebSocketProtocol"],[1,3377,274,6],[1,3381,275,8,"protocols"],[1,3383,275,20,"subprotocol"],[1,3385,275,32,"parse"],[1,3391,275,38,"secWebSocketProtocol"],[1,3393,276,6],[1,3394,276,8],[1,3400,276,15,"err"],[1,3403,279,8],[1,3415,278,8,"abortHandshakeOrEmitwsClientError"],[1,3417,278,42,"this"],[1,3422,278,48,"req"],[1,3424,278,53,"socket"],[1,3426,278,61],[1,3430,277,24],[1,3470,280,6],[1,3471,283,4],[1,3477,283,10,"secWebSocketExtensions"],[1,3479,283,35,"req"],[1,3481,283,39,"headers"],[1,3489,283,47],[1,3517,284,10,"extensions"],[1,3519,284,23],[1,3520,284,24],[1,3522,286,4],[1,3525,287,6,"this"],[1,3530,287,11,"options"],[1,3538,287,19,"perMessageDeflate"],[1,3562,288,33,"undefined"],[1,3566,288,6,"secWebSocketExtensions"],[1,3568,289,6],[1,3569,290,6],[1,3575,290,12,"perMessageDeflate"],[1,3577,290,32],[1,3581,290,36,"PerMessageDeflate"],[1,3583,291,8,"this"],[1,3588,291,13,"options"],[1,3596,291,21,"perMessageDeflate"],[1,3615,292,8],[1,3617,293,8,"this"],[1,3622,293,13,"options"],[1,3630,293,21,"maxPayload"],[1,3642,296,6],[1,3646,297,8],[1,3652,297,14,"offers"],[1,3654,297,23,"extension"],[1,3656,297,33,"parse"],[1,3662,297,39,"secWebSocketExtensions"],[1,3665,299,12,"offers"],[1,3667,299,19,"PerMessageDeflate"],[1,3669,299,37,"extensionName"],[1,3686,300,10,"perMessageDeflate"],[1,3688,300,28,"accept"],[1,3695,300,35,"offers"],[1,3697,300,42,"PerMessageDeflate"],[1,3699,300,60,"extensionName"],[1,3715,301,10,"extensions"],[1,3717,301,21,"PerMessageDeflate"],[1,3719,301,39,"extensionName"],[1,3734,301,56,"perMessageDeflate"],[1,3736,303,6],[1,3737,303,8],[1,3743,303,15,"err"],[1,3746,307,8],[1,3758,306,8,"abortHandshakeOrEmitwsClientError"],[1,3760,306,42,"this"],[1,3765,306,48,"req"],[1,3767,306,53,"socket"],[1,3769,306,61],[1,3773,305,10],[1,3831,308,6],[1,3832,309,4],[1,3833,314,4],[1,3836,314,8,"this"],[1,3841,314,13,"options"],[1,3849,314,21,"verifyClient"],[1,3862,314,35],[1,3863,315,6],[1,3869,315,12,"info"],[1,3871,315,19],[1,3872,316,8,"origin"],[1,3879,317,10,"req"],[1,3881,317,14,"headers"],[1,3889,317,22],[1,3893,317,37],[1,3897,317,25,"version"],[1,3899,317,41],[1,3922,317,66],[1,3933,318,8,"secure"],[1,3943,318,19,"req"],[1,3945,318,23,"socket"],[1,3952,318,30,"authorized"],[1,3965,318,44,"req"],[1,3967,318,48,"socket"],[1,3974,318,55,"encrypted"],[1,3985,319,8,"req"],[1,3992,322,6],[1,3995,322,47],[1,3999,322,10,"this"],[1,4004,322,15,"options"],[1,4012,322,23,"verifyClient"],[1,4025,322,36,"length"],[1,4032,338,8],[1,4044,323,8,"this"],[1,4049,323,13,"options"],[1,4057,323,21,"verifyClient"],[1,4070,323,34,"info"],[1,4072,323,40],[1,4073,323,41,"verified"],[1,4075,323,51,"code"],[1,4077,323,57,"message"],[1,4079,323,66,"headers"],[1,4084,324,10],[1,4088,324,15,"verified"],[1,4090,325,12],[1,4097,325,19,"abortHandshake"],[1,4099,325,34,"socket"],[1,4101,325,42,"code"],[1,4104,325,50],[1,4108,325,55,"message"],[1,4110,325,64,"headers"],[1,4113,328,10,"this"],[1,4118,328,15,"completeUpgrade"],[1,4134,329,12,"extensions"],[1,4136,330,12,"key"],[1,4138,331,12,"protocols"],[1,4140,332,12,"req"],[1,4142,333,12,"socket"],[1,4144,334,12,"head"],[1,4146,335,12,"cb"],[1,4151,341,6],[1,4155,341,11,"this"],[1,4160,341,16,"options"],[1,4168,341,24,"verifyClient"],[1,4181,341,37,"info"],[1,4184,341,44],[1,4191,341,51,"abortHandshake"],[1,4193,341,66,"socket"],[1,4195,341,74],[1,4199,342,4],[1,4200,344,4,"this"],[1,4205,344,9,"completeUpgrade"],[1,4221,344,25,"extensions"],[1,4223,344,37,"key"],[1,4225,344,42,"protocols"],[1,4227,344,53,"req"],[1,4229,344,58,"socket"],[1,4231,344,66,"head"],[1,4233,344,72,"cb"],[1,4235,345,2],[1,4236,360,2,"completeUpgrade"],[1,4252,360,18,"extensions"],[1,4254,360,30,"key"],[1,4256,360,35,"protocols"],[1,4258,360,46,"req"],[1,4260,360,51,"socket"],[1,4262,360,59,"head"],[1,4264,360,65,"cb"],[1,4267,364,4],[1,4271,364,9,"socket"],[1,4273,364,16,"readable"],[1,4284,364,29,"socket"],[1,4286,364,36,"writable"],[1,4295,364,46],[1,4302,364,53,"socket"],[1,4304,364,60,"destroy"],[1,4314,366,4],[1,4317,366,8,"socket"],[1,4319,366,15,"kWebSocket"],[1,4322,367,6],[1,4328,367,12],[1,4332,367,16,"Error"],[1,4338,367,21],[1,4447,373,4],[1,4450,373,8,"this"],[1,4455,373,13,"_state"],[1,4462,18,16],[1,4464,373,31],[1,4471,373,38,"abortHandshake"],[1,4473,373,53,"socket"],[1,4475,373,61],[1,4480,375,4],[1,4486,379,10,"headers"],[1,4488,379,20],[1,4489,380,6],[1,4524,381,6],[1,4545,382,6],[1,4567,383,6],[1,4592,375,19,"createHash"],[1,4594,375,30],[1,4602,376,7,"update"],[1,4609,376,14,"key"],[1,4611,376,20,"GUID"],[1,4614,377,7,"digest"],[1,4621,377,14],[1,4634,386,10,"ws"],[1,4636,386,15],[1,4640,386,19,"this"],[1,4645,386,24,"options"],[1,4653,386,32,"WebSocket"],[1,4663,386,42],[1,4673,386,48,"undefined"],[1,4675,386,59,"this"],[1,4680,386,64,"options"],[1,4689,388,4],[1,4692,388,8,"protocols"],[1,4694,388,18,"size"],[1,4699,388,24],[1,4700,392,6],[1,4706,392,12,"protocol"],[1,4708,392,23,"this"],[1,4713,392,28,"options"],[1,4721,392,36,"handleProtocols"],[1,4737,393,10,"this"],[1,4742,393,15,"options"],[1,4750,393,23,"handleProtocols"],[1,4766,393,39,"protocols"],[1,4768,393,50,"req"],[1,4771,394,10,"protocols"],[1,4773,394,20,"values"],[1,4782,394,29,"next"],[1,4789,394,36,"value"],[1,4795,396,10,"protocol"],[1,4799,397,8,"headers"],[1,4801,397,16,"push"],[1,4806,397,21],[1,4833,397,48,"protocol"],[1,4838,398,8,"ws"],[1,4840,398,11,"_protocol"],[1,4850,398,23,"protocol"],[1,4852,400,4],[1,4853,402,4],[1,4856,402,8,"extensions"],[1,4858,402,19,"PerMessageDeflate"],[1,4860,402,37,"extensionName"],[1,4875,402,53],[1,4876,403,6],[1,4882,403,12,"params"],[1,4884,403,21,"extensions"],[1,4886,403,32,"PerMessageDeflate"],[1,4888,403,50,"extensionName"],[1,4903,403,65,"params"],[1,4910,404,12,"value"],[1,4912,404,20,"extension"],[1,4914,404,30,"format"],[1,4921,404,37],[1,4922,405,8],[1,4923,405,9,"PerMessageDeflate"],[1,4925,405,27,"extensionName"],[1,4940,405,43],[1,4941,405,44,"params"],[1,4946,407,6,"headers"],[1,4948,407,14,"push"],[1,4953,407,19],[1,4982,407,48,"value"],[1,4987,408,6,"ws"],[1,4989,408,9,"_extensions"],[1,5001,408,23,"extensions"],[1,5002,409,4],[1,5003,414,4,"this"],[1,5008,414,9,"emit"],[1,5013,414,14],[1,5023,414,25,"headers"],[1,5025,414,34,"req"],[1,5028,416,4,"socket"],[1,5030,416,11,"write"],[1,5036,416,17,"headers"],[1,5038,416,25,"concat"],[1,5045,416,32],[1,5053,416,40,"join"],[1,5058,416,45],[1,5067,417,4,"socket"],[1,5069,417,11,"removeListener"],[1,5084,417,26],[1,5092,417,35,"socketOnError"],[1,5095,419,4,"ws"],[1,5097,419,7,"setSocket"],[1,5107,419,17,"socket"],[1,5109,419,25,"head"],[1,5111,419,31],[1,5112,420,6,"allowSynchronousEvents"],[1,5135,420,30,"this"],[1,5140,420,35,"options"],[1,5148,420,43,"allowSynchronousEvents"],[1,5171,421,6,"maxPayload"],[1,5182,421,18,"this"],[1,5187,421,23,"options"],[1,5195,421,31,"maxPayload"],[1,5206,422,6,"skipUTF8Validation"],[1,5225,422,26,"this"],[1,5230,422,31,"options"],[1,5238,422,39,"skipUTF8Validation"],[1,5259,425,8,"this"],[1,5264,425,13,"clients"],[1,5274,426,6,"this"],[1,5279,426,11,"clients"],[1,5287,426,19,"add"],[1,5291,426,23,"ws"],[1,5294,427,6,"ws"],[1,5296,427,9,"on"],[1,5299,427,12],[1,5307,427,21],[1,5312,428,8,"this"],[1,5317,428,13,"clients"],[1,5325,428,21,"delete"],[1,5332,428,28,"ws"],[1,5335,430,12,"this"],[1,5340,430,17,"_shouldEmitClose"],[1,5359,430,38,"this"],[1,5364,430,43,"clients"],[1,5372,430,51,"size"],[1,5378,431,10,"process"],[1,5386,431,18,"nextTick"],[1,5395,431,27,"emitClose"],[1,5397,431,38,"this"],[1,5406,436,4,"cb"],[1,5408,436,7,"ws"],[1,5410,436,11,"req"],[1,5412,437,2],[1,5414,540,1],[1,5417]],"functionMap":{"names":["<global>","WebSocketServer","WebSocketServer#constructor","http.createServer$argument_0","addListeners$argument_1.upgrade","WebSocketServer#address","WebSocketServer#close","once$argument_1","server.close$argument_0","WebSocketServer#shouldHandle","WebSocketServer#handleUpgrade","options.verifyClient$argument_1","WebSocketServer#completeUpgrade","ws.on$argument_1","addListeners","removeListeners","emitClose","socketOnError","abortHandshake","Object.keys.map$argument_0","abortHandshakeOrEmitwsClientError"],"mappings":"AAA;AC0B;ECgC;uCCkC;ODQ;iBEiB;SFE;GDY;EIW;GJO;EKS;2BCG;SDE;mBEqC;OFE;GLE;EQS;GRS;ESW;wCCyF;SDc;GTQ;EWe;qBCmE;ODM;GXI;CDC;Acc;SCG;GDI;CdC;AgBQ;ChBG;AiBO;CjBE;AkBW;aCsB,4BD;ClBK;AoBa;CpBS"}},"type":"js/module"}]}