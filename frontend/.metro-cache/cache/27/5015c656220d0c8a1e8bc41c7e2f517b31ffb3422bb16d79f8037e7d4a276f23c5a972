{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./ImagePicker.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":50,"index":114}}],"key":"/jNv85Cqy9zQGnbpL3adxFcCtH4=","exportNames":["*"]}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":3,"column":42,"index":157}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]),s=r(d[1]),n=r(d[2]);const o={images:'image/*',videos:'video/mp4,video/quicktime,video/x-m4v,video/*',livePhotos:''};e.default={launchImageLibraryAsync:async({mediaTypes:s=['images'],allowsMultipleSelection:n=!1,base64:o=!1})=>t.Platform.isDOMAvailable?await c({mediaTypes:s,allowsMultipleSelection:n,base64:o}):{canceled:!0,assets:null},launchCameraAsync:async({mediaTypes:s=['images'],allowsMultipleSelection:n=!1,base64:o=!1,cameraType:l})=>t.Platform.isDOMAvailable?await c({mediaTypes:s,allowsMultipleSelection:n,capture:l??!0,base64:o}):{canceled:!0,assets:null},getCameraPermissionsAsync:async()=>l(),requestCameraPermissionsAsync:async()=>l(),getMediaLibraryPermissionsAsync:async t=>l(),requestMediaLibraryPermissionsAsync:async t=>l()};function l(){return{status:t.PermissionStatus.GRANTED,expires:'never',granted:!0,canAskAgain:!0}}function c({mediaTypes:t,capture:o=!1,allowsMultipleSelection:l=!1,base64:c}){const u=f((0,n.parseMediaTypes)(t)),h=document.createElement('input');if(h.style.display='none',h.setAttribute('type','file'),h.setAttribute('accept',u),h.setAttribute('id',String(Math.random())),h.setAttribute('data-testid','file-input'),l&&h.setAttribute('multiple','multiple'),o)switch(o){case!0:h.setAttribute('capture','camera');break;case s.CameraType.front:h.setAttribute('capture','user');break;case s.CameraType.back:h.setAttribute('capture','environment')}return document.body.appendChild(h),new Promise(t=>{h.addEventListener('change',async()=>{if(h.files?.length){const s=l?h.files:[h.files[0]],n=await Promise.all(Array.from(s).map(t=>y(t,{base64:c})));t({canceled:!1,assets:n})}else t({canceled:!0,assets:null});document.body.removeChild(h)}),h.addEventListener('cancel',()=>{h.dispatchEvent(new Event('change'))});const s=new MouseEvent('click');h.dispatchEvent(s)})}async function u(t){return new Promise(s=>{const n=new Image;n.onload=()=>{s({width:n.naturalWidth??n.width,height:n.naturalHeight??n.height})},n.onerror=()=>s({width:0,height:0}),n.src=t})}async function h(t){return new Promise(s=>{const n=document.createElement('video');n.preload='metadata',n.onloadedmetadata=()=>{s({width:n.videoWidth,height:n.videoHeight,duration:n.duration})},n.onerror=()=>s({width:0,height:0,duration:0}),n.src=t})}async function p(t){return new Promise((s,n)=>{const o=new FileReader;o.onerror=()=>{n(new Error('Failed to read the selected media because the operation failed.'))},o.onload=t=>{const o=t.target?.result;'string'==typeof o?s(o.split(',')[1]):n(new Error('Failed to read file as base64'))},o.readAsDataURL(t)})}async function y(t,s){const n=t.type,o=URL.createObjectURL(t);try{let l,c;if(n.startsWith('image/'))l=await u(o);else{if(!n.startsWith('video/'))throw new Error(`Unsupported file type: ${n}. Only images and videos are supported.`);l=await h(o)}return s.base64&&(c=await p(t)),{uri:o,width:l.width,height:l.height,type:n.startsWith('image/')?'image':'video',mimeType:n,fileName:t.name,fileSize:t.size,file:t,...void 0!==l.duration&&{duration:l.duration},...c&&{base64:c}}}catch(t){throw t}}function f(t){const s=t.filter(t=>'livePhotos'!==t);if(0===s.length)return'image/*';let n='';for(const t of s)n.includes(o[t])||(n=n.concat(',',o[t]));return n}});","lineCount":1,"map":[[1,94,1,0],[1,98,1,0,"_expoModulesCore"],[1,100,1,0,"r"],[1,102,1,0,"d"],[1,104,1,0],[1,108,2,0,"_ImagePicker"],[1,110,2,0,"r"],[1,112,2,0,"d"],[1,114,2,0],[1,118,3,0,"_utils"],[1,120,3,0,"r"],[1,122,3,0,"d"],[1,124,3,0],[1,128,4,0],[1,134,4,6,"MediaTypeInput"],[1,136,4,23],[1,137,5,4,"images"],[1,144,5,12],[1,154,6,4,"videos"],[1,161,6,12],[1,209,7,4,"livePhotos"],[1,220,7,16],[1,224,8,2,"e"],[1,226,8,2,"default"],[1,234,9,15],[1,235,10,4,"async"],[1,259,10,33,"launchImageLibraryAsync"],[1,266,10,34,"mediaTypes"],[1,277,10,36,"mediaTypes"],[1,279,10,49],[1,280,10,50],[1,290,10,59,"allowsMultipleSelection"],[1,314,10,61,"allowsMultipleSelection"],[1,317,10,87],[1,319,10,92,"base64"],[1,326,10,94,"base64"],[1,329,10,103],[1,334,12,13,"Platform"],[1,345,12,22,"isDOMAvailable"],[1,366,15,21,"openFileBrowserAsync"],[1,368,15,42],[1,369,16,12,"mediaTypes"],[1,382,17,12,"allowsMultipleSelection"],[1,408,18,12,"base64"],[1,419,13,19],[1,420,13,21,"canceled"],[1,430,13,31],[1,432,13,37,"assets"],[1,439,13,45],[1,445,21,4,"async"],[1,463,21,27,"launchCameraAsync"],[1,470,21,28,"mediaTypes"],[1,481,21,30,"mediaTypes"],[1,483,21,43],[1,484,21,44],[1,494,21,53,"allowsMultipleSelection"],[1,518,21,55,"allowsMultipleSelection"],[1,521,21,81],[1,523,21,86,"base64"],[1,530,21,88,"base64"],[1,533,21,97],[1,535,21,102,"cameraType"],[1,546,21,104,"cameraType"],[1,551,23,13,"Platform"],[1,562,23,22,"isDOMAvailable"],[1,583,26,21,"openFileBrowserAsync"],[1,585,26,42],[1,586,27,12,"mediaTypes"],[1,599,28,12,"allowsMultipleSelection"],[1,625,29,12,"capture"],[1,633,29,21,"cameraType"],[1,637,29,35],[1,639,30,12,"base64"],[1,650,24,19],[1,651,24,21,"canceled"],[1,661,24,31],[1,663,24,37,"assets"],[1,670,24,45],[1,676,36,4,"async"],[1,702,36,35,"getCameraPermissionsAsync"],[1,711,37,15,"permissionGrantedResponse"],[1,715,39,4,"async"],[1,745,39,39,"requestCameraPermissionsAsync"],[1,754,40,15,"permissionGrantedResponse"],[1,758,46,4,"async"],[1,790,46,41,"getMediaLibraryPermissionsAsync"],[1,796,46,42,"_writeOnly"],[1,799,47,15,"permissionGrantedResponse"],[1,803,49,4,"async"],[1,839,49,45,"requestMediaLibraryPermissionsAsync"],[1,845,49,46,"_writeOnly"],[1,848,50,15,"permissionGrantedResponse"],[1,853,53,0],[1,862,53,9,"permissionGrantedResponse"],[1,866,54,4],[1,872,54,11],[1,873,55,8,"status"],[1,880,55,16,"PermissionStatus"],[1,899,55,33,"GRANTED"],[1,907,56,8,"expires"],[1,915,56,17],[1,923,57,8,"granted"],[1,932,57,17],[1,934,58,8,"canAskAgain"],[1,947,58,21],[1,949,60,0],[1,950,65,0],[1,959,65,9,"openFileBrowserAsync"],[1,962,65,30,"mediaTypes"],[1,973,65,32,"mediaTypes"],[1,975,65,42,"capture"],[1,983,65,44,"capture"],[1,986,65,54],[1,988,65,59,"allowsMultipleSelection"],[1,1012,65,61,"allowsMultipleSelection"],[1,1015,65,87],[1,1017,65,92,"base64"],[1,1024,65,94,"base64"],[1,1028,66,4],[1,1034,67,10,"mediaTypeFormat"],[1,1036,67,28,"createMediaTypeFormat"],[1,1039,66,29],[1,1041,66,29,"parseMediaTypes"],[1,1060,66,45,"mediaTypes"],[1,1064,68,10,"input"],[1,1066,68,18,"document"],[1,1075,68,27,"createElement"],[1,1089,68,41],[1,1098,77,4],[1,1101,69,4,"input"],[1,1103,69,10,"style"],[1,1109,69,16,"display"],[1,1117,69,26],[1,1124,70,4,"input"],[1,1126,70,10,"setAttribute"],[1,1139,70,23],[1,1146,70,31],[1,1154,71,4,"input"],[1,1156,71,10,"setAttribute"],[1,1169,71,23],[1,1178,71,33,"mediaTypeFormat"],[1,1181,72,4,"input"],[1,1183,72,10,"setAttribute"],[1,1196,72,23],[1,1201,72,29,"String"],[1,1208,72,36,"Math"],[1,1213,72,41,"random"],[1,1224,73,4,"input"],[1,1226,73,10,"setAttribute"],[1,1239,73,23],[1,1253,73,38],[1,1267,74,8,"allowsMultipleSelection"],[1,1270,75,8,"input"],[1,1272,75,14,"setAttribute"],[1,1285,75,27],[1,1296,75,39],[1,1308,77,8,"capture"],[1,1310,78,8],[1,1317,78,16,"capture"],[1,1320,79,12],[1,1325,79,17],[1,1327,80,16,"input"],[1,1329,80,22,"setAttribute"],[1,1342,80,35],[1,1352,80,46],[1,1362,81,16],[1,1368,82,12],[1,1373,82,17,"CameraType"],[1,1386,82,28,"front"],[1,1392,83,16,"input"],[1,1394,83,22,"setAttribute"],[1,1407,83,35],[1,1417,83,46],[1,1425,84,16],[1,1431,85,12],[1,1436,85,17,"CameraType"],[1,1449,85,28,"back"],[1,1454,86,16,"input"],[1,1456,86,22,"setAttribute"],[1,1469,86,35],[1,1479,86,46],[1,1494,90,4],[1,1501,89,4,"document"],[1,1510,89,13,"body"],[1,1515,89,18,"appendChild"],[1,1527,89,30,"input"],[1,1530,90,11],[1,1534,90,15,"Promise"],[1,1542,90,24,"resolve"],[1,1546,91,8,"input"],[1,1548,91,14,"addEventListener"],[1,1565,91,31],[1,1574,91,41,"async"],[1,1584,92,12],[1,1587,92,16,"input"],[1,1589,92,22,"files"],[1,1596,92,29,"length"],[1,1603,92,37],[1,1604,93,16],[1,1610,93,22,"files"],[1,1612,93,30,"allowsMultipleSelection"],[1,1614,93,56,"input"],[1,1616,93,62,"files"],[1,1622,93,70],[1,1623,93,71,"input"],[1,1625,93,77,"files"],[1,1631,93,83],[1,1635,94,22,"assets"],[1,1643,94,37,"Promise"],[1,1651,94,45,"all"],[1,1655,94,49,"Array"],[1,1661,94,55,"from"],[1,1666,94,60,"files"],[1,1669,94,67,"map"],[1,1673,94,72,"file"],[1,1676,94,81,"readFile"],[1,1678,94,90,"file"],[1,1680,94,96],[1,1681,94,98,"base64"],[1,1694,95,16,"resolve"],[1,1696,95,24],[1,1697,95,26,"canceled"],[1,1707,95,36],[1,1709,95,43,"assets"],[1,1719,96,12],[1,1725,98,16,"resolve"],[1,1727,98,24],[1,1728,98,26,"canceled"],[1,1738,98,36],[1,1740,98,42,"assets"],[1,1747,98,50],[1,1754,100,12,"document"],[1,1763,100,21,"body"],[1,1768,100,26,"removeChild"],[1,1780,100,38,"input"],[1,1785,102,8,"input"],[1,1787,102,14,"addEventListener"],[1,1804,102,31],[1,1813,102,41],[1,1818,103,12,"input"],[1,1820,103,18,"dispatchEvent"],[1,1834,103,32],[1,1838,103,36,"Event"],[1,1844,103,42],[1,1857,105,8],[1,1863,105,14,"event"],[1,1865,105,22],[1,1869,105,26,"MouseEvent"],[1,1880,105,37],[1,1889,106,8,"input"],[1,1891,106,14,"dispatchEvent"],[1,1905,106,28,"event"],[1,1909,108,0],[1,1910,113,0,"async"],[1,1925,113,15,"getImageMetadata"],[1,1927,113,32,"blobUrl"],[1,1930,114,4],[1,1937,114,11],[1,1941,114,15,"Promise"],[1,1949,114,24,"resolve"],[1,1953,115,8],[1,1959,115,14,"image"],[1,1961,115,22],[1,1965,115,26,"Image"],[1,1971,116,8,"image"],[1,1973,116,14,"onload"],[1,1980,116,23],[1,1985,117,12,"resolve"],[1,1987,117,20],[1,1988,118,16,"width"],[1,1994,118,23,"image"],[1,1996,118,29,"naturalWidth"],[1,2010,118,45,"image"],[1,2012,118,51,"width"],[1,2018,119,16,"height"],[1,2025,119,24,"image"],[1,2027,119,30,"naturalHeight"],[1,2042,119,47,"image"],[1,2044,119,53,"height"],[1,2054,122,8,"image"],[1,2056,122,14,"onerror"],[1,2064,122,24],[1,2068,122,30,"resolve"],[1,2070,122,38],[1,2071,122,40,"width"],[1,2077,122,47],[1,2079,122,50,"height"],[1,2086,122,58],[1,2090,123,8,"image"],[1,2092,123,14,"src"],[1,2096,123,20,"blobUrl"],[1,2099,125,0],[1,2100,129,0,"async"],[1,2115,129,15,"getVideoMetadata"],[1,2117,129,32,"blobUrl"],[1,2120,130,4],[1,2127,130,11],[1,2131,130,15,"Promise"],[1,2139,130,24,"resolve"],[1,2143,131,8],[1,2149,131,14,"video"],[1,2151,131,22,"document"],[1,2160,131,31,"createElement"],[1,2174,131,45],[1,2183,132,8,"video"],[1,2185,132,14,"preload"],[1,2193,132,24],[1,2204,133,8,"video"],[1,2206,133,14,"onloadedmetadata"],[1,2223,133,33],[1,2228,134,12,"resolve"],[1,2230,134,20],[1,2231,135,16,"width"],[1,2237,135,23,"video"],[1,2239,135,29,"videoWidth"],[1,2250,136,16,"height"],[1,2257,136,24,"video"],[1,2259,136,30,"videoHeight"],[1,2271,137,16,"duration"],[1,2280,137,26,"video"],[1,2282,137,32,"duration"],[1,2294,140,8,"video"],[1,2296,140,14,"onerror"],[1,2304,140,24],[1,2308,140,30,"resolve"],[1,2310,140,38],[1,2311,140,40,"width"],[1,2317,140,47],[1,2319,140,50,"height"],[1,2326,140,58],[1,2328,140,61,"duration"],[1,2337,140,71],[1,2341,141,8,"video"],[1,2343,141,14,"src"],[1,2347,141,20,"blobUrl"],[1,2350,143,0],[1,2351,147,0,"async"],[1,2366,147,15,"readFileAsBase64"],[1,2368,147,32,"file"],[1,2371,148,4],[1,2378,148,11],[1,2382,148,15,"Promise"],[1,2390,148,23],[1,2391,148,24,"resolve"],[1,2393,148,33,"reject"],[1,2398,149,8],[1,2404,149,14,"reader"],[1,2406,149,23],[1,2410,149,27,"FileReader"],[1,2421,150,8,"reader"],[1,2423,150,15,"onerror"],[1,2431,150,25],[1,2436,151,12,"reject"],[1,2438,151,19],[1,2442,151,23,"Error"],[1,2448,151,29],[1,2517,153,8,"reader"],[1,2519,153,15,"onload"],[1,2526,153,25,"event"],[1,2530,154,12],[1,2536,154,18,"result"],[1,2538,154,27,"event"],[1,2540,154,33,"target"],[1,2548,154,41,"result"],[1,2555,155,34],[1,2572,155,23,"result"],[1,2574,160,12,"resolve"],[1,2576,160,20,"result"],[1,2578,160,27,"split"],[1,2584,160,33],[1,2589,160,38],[1,2593,156,16,"reject"],[1,2595,156,23],[1,2599,156,27,"Error"],[1,2605,156,33],[1,2640,162,8,"reader"],[1,2642,162,15,"readAsDataURL"],[1,2656,162,29,"file"],[1,2660,164,0],[1,2661,169,0,"async"],[1,2676,169,15,"readFile"],[1,2678,169,24,"targetFile"],[1,2680,169,36,"options"],[1,2683,170,4],[1,2689,170,10,"mimeType"],[1,2691,170,21,"targetFile"],[1,2693,170,32,"type"],[1,2698,171,10,"baseUri"],[1,2700,171,20,"URL"],[1,2704,171,24,"createObjectURL"],[1,2720,171,40,"targetFile"],[1,2723,172,4],[1,2727,173,8],[1,2731,173,12,"metadata"],[1,2733,174,12,"base64"],[1,2735,175,8],[1,2738,175,12,"mimeType"],[1,2740,175,21,"startsWith"],[1,2751,175,32],[1,2761,176,12,"metadata"],[1,2769,176,29,"getImageMetadata"],[1,2771,176,46,"baseUri"],[1,2778,178,13],[1,2783,178,17,"mimeType"],[1,2785,178,26,"startsWith"],[1,2796,178,37],[1,2806,182,12],[1,2812,182,18],[1,2816,182,22,"Error"],[1,2822,182,28],[1,2848,182,54,"mimeType"],[1,2892,179,12,"metadata"],[1,2900,179,29,"getVideoMetadata"],[1,2902,179,46,"baseUri"],[1,2904,183,8],[1,2905,187,8],[1,2912,184,12,"options"],[1,2914,184,20,"base64"],[1,2923,185,12,"base64"],[1,2931,185,27,"readFileAsBase64"],[1,2933,185,44,"targetFile"],[1,2937,187,15],[1,2938,188,12,"uri"],[1,2942,188,17,"baseUri"],[1,2944,189,12,"width"],[1,2950,189,19,"metadata"],[1,2952,189,28,"width"],[1,2958,190,12,"height"],[1,2965,190,20,"metadata"],[1,2967,190,29,"height"],[1,2974,191,12,"type"],[1,2979,191,18,"mimeType"],[1,2981,191,27,"startsWith"],[1,2992,191,38],[1,3002,191,50],[1,3010,191,60],[1,3018,192,12,"mimeType"],[1,3029,193,12,"fileName"],[1,3038,193,22,"targetFile"],[1,3040,193,33,"name"],[1,3045,194,12,"fileSize"],[1,3054,194,22,"targetFile"],[1,3056,194,33,"size"],[1,3061,195,12,"file"],[1,3066,195,18,"targetFile"],[1,3076,196,38,"undefined"],[1,3080,196,16,"metadata"],[1,3082,196,25,"duration"],[1,3092,196,51],[1,3093,196,53,"duration"],[1,3102,196,63,"metadata"],[1,3104,196,72,"duration"],[1,3117,197,16,"base64"],[1,3120,197,26],[1,3121,197,28,"base64"],[1,3131,199,4],[1,3132,200,4],[1,3138,200,11,"error"],[1,3141,201,8],[1,3147,201,14,"error"],[1,3148,202,4],[1,3149,203,0],[1,3150,208,0],[1,3159,208,9,"createMediaTypeFormat"],[1,3161,208,31,"mediaTypes"],[1,3164,209,4],[1,3170,209,10,"filteredMediaTypes"],[1,3172,209,31,"mediaTypes"],[1,3174,209,42,"filter"],[1,3181,209,50,"mediaType"],[1,3184,209,78],[1,3199,209,64,"mediaType"],[1,3202,210,4],[1,3205,210,38],[1,3209,210,8,"filteredMediaTypes"],[1,3211,210,27,"length"],[1,3218,211,8],[1,3224,211,15],[1,3234,213,4],[1,3238,213,8,"result"],[1,3240,213,17],[1,3243,214,4],[1,3247,214,9],[1,3253,214,15,"mediaType"],[1,3258,214,28,"filteredMediaTypes"],[1,3260,216,13,"result"],[1,3262,216,20,"includes"],[1,3271,216,29,"MediaTypeInput"],[1,3273,216,44,"mediaType"],[1,3279,217,12,"result"],[1,3281,217,21,"result"],[1,3283,217,28,"concat"],[1,3290,217,35],[1,3294,217,40,"MediaTypeInput"],[1,3296,217,55,"mediaType"],[1,3301,220,4],[1,3308,220,11,"result"],[1,3309,221,0],[1,3310,221,1],[1,3313]],"functionMap":{"names":["<global>","default.launchImageLibraryAsync","default.launchCameraAsync","default.getCameraPermissionsAsync","default.requestCameraPermissionsAsync","default.getMediaLibraryPermissionsAsync","default.requestMediaLibraryPermissionsAsync","permissionGrantedResponse","openFileBrowserAsync","Promise$argument_0","input.addEventListener$argument_1","Array.from.map$argument_0","getImageMetadata","image.onload","image.onerror","getVideoMetadata","video.onloadedmetadata","video.onerror","readFileAsBase64","reader.onerror","reader.onload","readFile","createMediaTypeFormat","mediaTypes.filter$argument_0"],"mappings":"AAA;ICS;KDU;IEC;KFW;IGI;KHE;IIC;KJE;IKK;KLE;IMC;KNE;AOE;CPO;AQK;uBCyB;yCCC;uECG,oCD;SDO;yCCC;SDE;KDG;CRC;AYK;uBHC;uBIE;SJK;wBKC,sCL;KGE;CZC;AeI;uBNC;iCOG;SPM;wBQC,mDR;KME;CfC;AkBI;uBTC;yBUE;SVE;wBWC;SXQ;KSE;ClBC;AqBK;CrBkC;AsBK;iDCC,yCD;CtBY"}},"type":"js/module"}]}