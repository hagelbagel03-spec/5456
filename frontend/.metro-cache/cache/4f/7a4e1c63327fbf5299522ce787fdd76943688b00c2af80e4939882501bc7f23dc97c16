{"dependencies":[{"name":"../transport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"q68AWRvh2qc0QUlp41HSOL9aMUA=","exportNames":["*"]}},{"name":"../globals.node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":46,"index":91}}],"key":"RPWURBgga4vfm2ZRigByneogh6w=","exportNames":["*"]}},{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":89,"index":181}}],"key":"IB5HY76c7xC+tDEPCV8b/nK76DU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,\"__esModule\",{value:!0}),e.WT=void 0;var t=r(d[0]),s=r(d[1]),i=r(d[2]);class n extends t.Transport{get name(){return\"webtransport\"}doOpen(){try{this._transport=new WebTransport(this.createUri(\"https\"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved(\"error\",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError(\"webtransport error\",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=(0,i.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),o=(0,i.createPacketEncoderStream)();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const h=()=>{n.read().then(({done:t,value:s})=>{t||(this.onPacket(s),h())}).catch(t=>{})};h();const c={type:\"open\"};this.query.sid&&(c.data=`{\"sid\":\"${this.query.sid}\"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let i=0;i<t.length;i++){const n=t[i],o=i===t.length-1;this._writer.write(n).then(()=>{o&&(0,s.nextTick)(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}}e.WT=n});","lineCount":1,"map":[[1,90,1,0],[1,94,1,0,"_transport"],[1,96,1,0,"r"],[1,98,1,0,"d"],[1,100,1,0],[1,104,2,0,"_globalsNode"],[1,106,2,0,"r"],[1,108,2,0,"d"],[1,110,2,0],[1,114,3,0,"_engine"],[1,116,3,0,"r"],[1,118,3,0,"d"],[1,120,3,0],[1,124,12,7],[1,130,12,13,"WT"],[1,140,12,24,"Transport"],[1,152,13,4],[1,160,13,8,"name"],[1,163,14,8],[1,169,14,15],[1,183,15,4],[1,184,16,4,"doOpen"],[1,193,17,8],[1,197,19,12,"this"],[1,202,19,17,"_transport"],[1,213,19,30],[1,217,19,34,"WebTransport"],[1,230,19,47,"this"],[1,235,19,52,"createUri"],[1,245,19,62],[1,254,19,72,"this"],[1,259,19,77,"opts"],[1,264,19,82,"transportOptions"],[1,281,19,99,"this"],[1,286,19,104,"name"],[1,292,20,8],[1,293,21,8],[1,299,21,15,"err"],[1,302,22,12],[1,309,22,19,"this"],[1,314,22,24,"emitReserved"],[1,327,22,37],[1,335,22,46,"err"],[1,337,23,8],[1,338,24,8,"this"],[1,343,24,13,"_transport"],[1,354,24,24,"closed"],[1,361,25,13,"then"],[1,366,25,18],[1,371,26,12,"this"],[1,376,26,17,"onClose"],[1,388,28,13,"catch"],[1,394,28,20,"err"],[1,398,29,12,"this"],[1,403,29,17,"onError"],[1,411,29,25],[1,432,29,47,"err"],[1,437,32,8,"this"],[1,442,32,13,"_transport"],[1,453,32,24,"ready"],[1,459,32,30,"then"],[1,464,32,35],[1,469,33,12,"this"],[1,474,33,17,"_transport"],[1,485,33,28,"createBidirectionalStream"],[1,513,33,56,"then"],[1,518,33,62,"stream"],[1,522,34,16],[1,528,34,22,"decoderStream"],[1,531,34,38],[1,533,34,38,"createPacketDecoderStream"],[1,562,34,64,"Number"],[1,569,34,71,"MAX_SAFE_INTEGER"],[1,586,34,89,"this"],[1,591,34,94,"socket"],[1,598,34,101,"binaryType"],[1,610,35,22,"reader"],[1,612,35,31,"stream"],[1,614,35,38,"readable"],[1,623,35,47,"pipeThrough"],[1,635,35,59,"decoderStream"],[1,638,35,74,"getReader"],[1,650,36,22,"encoderStream"],[1,653,36,38],[1,655,36,38,"createPacketEncoderStream"],[1,686,37,16,"encoderStream"],[1,688,37,30,"readable"],[1,697,37,39,"pipeTo"],[1,704,37,46,"stream"],[1,706,37,53,"writable"],[1,716,38,16,"this"],[1,721,38,21,"_writer"],[1,729,38,31,"encoderStream"],[1,731,38,45,"writable"],[1,740,38,54,"getWriter"],[1,752,39,16],[1,758,39,22,"read"],[1,760,39,29,"read"],[1,765,40,20,"reader"],[1,767,41,25,"read"],[1,774,42,25,"then"],[1,779,42,30],[1,781,42,33,"done"],[1,788,42,39,"value"],[1,800,43,28,"done"],[1,804,46,24,"this"],[1,809,46,29,"onPacket"],[1,818,46,38,"value"],[1,821,47,24,"read"],[1,828,49,25,"catch"],[1,834,49,32,"err"],[1,842,52,16,"read"],[1,846,53,16],[1,852,53,22,"packet"],[1,854,53,31],[1,855,53,33,"type"],[1,860,53,39],[1,868,54,20,"this"],[1,873,54,25,"query"],[1,879,54,31,"sid"],[1,885,55,20,"packet"],[1,887,55,27,"data"],[1,892,55,34],[1,903,55,45,"this"],[1,908,55,50,"query"],[1,914,55,56,"sid"],[1,923,57,16,"this"],[1,928,57,21,"_writer"],[1,936,57,29,"write"],[1,942,57,35,"packet"],[1,945,57,43,"then"],[1,950,57,48],[1,954,57,54,"this"],[1,959,57,59,"onOpen"],[1,972,60,4],[1,973,61,4,"write"],[1,979,61,10,"packets"],[1,982,62,8,"this"],[1,987,62,13,"writable"],[1,997,62,24],[1,999,63,8],[1,1003,63,13],[1,1007,63,17,"i"],[1,1009,63,21],[1,1011,63,24,"i"],[1,1013,63,28,"packets"],[1,1015,63,36,"length"],[1,1022,63,44,"i"],[1,1026,63,49],[1,1027,64,12],[1,1033,64,18,"packet"],[1,1035,64,27,"packets"],[1,1037,64,35,"i"],[1,1040,65,18,"lastPacket"],[1,1042,65,31,"i"],[1,1046,65,37,"packets"],[1,1048,65,45,"length"],[1,1055,65,54],[1,1057,66,12,"this"],[1,1062,66,17,"_writer"],[1,1070,66,25,"write"],[1,1076,66,31,"packet"],[1,1079,66,39,"then"],[1,1084,66,44],[1,1089,67,20,"lastPacket"],[1,1093,68,20],[1,1095,68,20,"nextTick"],[1,1107,68,29],[1,1112,69,24,"this"],[1,1117,69,29,"writable"],[1,1127,69,40],[1,1129,70,24,"this"],[1,1134,70,29,"emitReserved"],[1,1147,70,42],[1,1157,71,23,"this"],[1,1162,71,28,"setTimeoutFn"],[1,1177,74,8],[1,1178,75,4],[1,1179,76,4,"doClose"],[1,1189,77,8],[1,1193,77,12,"_a"],[1,1195,78,35],[1,1203,78,9,"_a"],[1,1205,78,14,"this"],[1,1210,78,19,"_transport"],[1,1228,78,45,"undefined"],[1,1232,78,43,"_a"],[1,1235,78,68,"_a"],[1,1237,78,71,"close"],[1,1244,79,4],[1,1246,80,1,"e"],[1,1248,80,1,"WT"],[1,1252,80,1],[1,1255]],"functionMap":{"names":["<global>","WT","WT#get__name","WT#doOpen","_transport.closed.then$argument_0","_transport.closed.then._catch$argument_0","_transport.ready.then$argument_0","_transport.createBidirectionalStream.then$argument_0","read","reader.read.then$argument_0","reader.read.then._catch$argument_0","_writer.write.then$argument_0","WT#write","nextTick$argument_0","WT#doClose"],"mappings":"AAA;OCW;ICC;KDE;IEC;kBCS;SDE;mBEC;SFE;mCGE;6DCC;6BCM;8BCG;qBDM;+BEC;qBFC;iBDC;gDIM,mBJ;aDC;SHC;KFC;IWC;4CDK;6BEE;qBFG;aCE;KXE;IaC;KbG;CDC"}},"type":"js/module"}]}