{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../transport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"q68AWRvh2qc0QUlp41HSOL9aMUA=","exportNames":["*"]}},{"name":"../globals.node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":46,"index":91}}],"key":"RPWURBgga4vfm2ZRigByneogh6w=","exportNames":["*"]}},{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":89,"index":181}}],"key":"IB5HY76c7xC+tDEPCV8b/nK76DU=","exportNames":["*"]}},{"name":"debug","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":182},"end":{"line":4,"column":32,"index":214}}],"key":"Nx7LMnUOZdRc8E6QIb5nvmtJE+4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.WT=void 0;var s=r(d[1]),i=r(d[2]),n=r(d[3]);const o=(0,t(r(d[4])).default)(\"engine.io-client:webtransport\");class h extends s.Transport{get name(){return\"webtransport\"}doOpen(){try{this._transport=new WebTransport(this.createUri(\"https\"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved(\"error\",t)}this._transport.closed.then(()=>{o(\"transport closed gracefully\"),this.onClose()}).catch(t=>{o(\"transport closed due to %s\",t),this.onError(\"webtransport error\",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=(0,n.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(s).getReader(),h=(0,n.createPacketEncoderStream)();h.readable.pipeTo(t.writable),this._writer=h.writable.getWriter();const c=()=>{i.read().then(({done:t,value:s})=>{t?o(\"session is closed\"):(o(\"received chunk: %o\",s),this.onPacket(s),c())}).catch(t=>{o(\"an error occurred while reading: %s\",t)})};c();const l={type:\"open\"};this.query.sid&&(l.data=`{\"sid\":\"${this.query.sid}\"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],o=s===t.length-1;this._writer.write(n).then(()=>{o&&(0,i.nextTick)(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}}e.WT=h});","lineCount":1,"map":[[1,104,1,0],[1,108,1,0,"_transport"],[1,110,1,0,"r"],[1,112,1,0,"d"],[1,114,1,0],[1,118,2,0,"_globalsNode"],[1,120,2,0,"r"],[1,122,2,0,"d"],[1,124,2,0],[1,128,3,0,"_engine"],[1,130,3,0,"r"],[1,132,3,0,"d"],[1,134,3,0],[1,138,5,0],[1,144,5,6,"debug"],[1,147,5,14],[1,149,4,0,"_interopRequireDefault"],[1,151,4,0,"r"],[1,153,4,0,"d"],[1,155,4,0],[1,160,5,14,"debugModule"],[1,169,5,26],[1,202,14,7],[1,208,14,13,"WT"],[1,218,14,24,"Transport"],[1,230,15,4],[1,238,15,8,"name"],[1,241,16,8],[1,247,16,15],[1,261,17,4],[1,262,18,4,"doOpen"],[1,271,19,8],[1,275,21,12,"this"],[1,280,21,17,"_transport"],[1,291,21,30],[1,295,21,34,"WebTransport"],[1,308,21,47,"this"],[1,313,21,52,"createUri"],[1,323,21,62],[1,332,21,72,"this"],[1,337,21,77,"opts"],[1,342,21,82,"transportOptions"],[1,359,21,99,"this"],[1,364,21,104,"name"],[1,370,22,8],[1,371,23,8],[1,377,23,15,"err"],[1,380,24,12],[1,387,24,19,"this"],[1,392,24,24,"emitReserved"],[1,405,24,37],[1,413,24,46,"err"],[1,415,25,8],[1,416,26,8,"this"],[1,421,26,13,"_transport"],[1,432,26,24,"closed"],[1,439,27,13,"then"],[1,444,27,18],[1,449,28,12,"debug"],[1,451,28,18],[1,482,29,12,"this"],[1,487,29,17,"onClose"],[1,499,31,13,"catch"],[1,505,31,20,"err"],[1,509,32,12,"debug"],[1,511,32,18],[1,540,32,48,"err"],[1,543,33,12,"this"],[1,548,33,17,"onError"],[1,556,33,25],[1,577,33,47,"err"],[1,582,36,8,"this"],[1,587,36,13,"_transport"],[1,598,36,24,"ready"],[1,604,36,30,"then"],[1,609,36,35],[1,614,37,12,"this"],[1,619,37,17,"_transport"],[1,630,37,28,"createBidirectionalStream"],[1,658,37,56,"then"],[1,663,37,62,"stream"],[1,667,38,16],[1,673,38,22,"decoderStream"],[1,676,38,38],[1,678,38,38,"createPacketDecoderStream"],[1,707,38,64,"Number"],[1,714,38,71,"MAX_SAFE_INTEGER"],[1,731,38,89,"this"],[1,736,38,94,"socket"],[1,743,38,101,"binaryType"],[1,755,39,22,"reader"],[1,757,39,31,"stream"],[1,759,39,38,"readable"],[1,768,39,47,"pipeThrough"],[1,780,39,59,"decoderStream"],[1,783,39,74,"getReader"],[1,795,40,22,"encoderStream"],[1,798,40,38],[1,800,40,38,"createPacketEncoderStream"],[1,831,41,16,"encoderStream"],[1,833,41,30,"readable"],[1,842,41,39,"pipeTo"],[1,849,41,46,"stream"],[1,851,41,53,"writable"],[1,861,42,16,"this"],[1,866,42,21,"_writer"],[1,874,42,31,"encoderStream"],[1,876,42,45,"writable"],[1,885,42,54,"getWriter"],[1,897,43,16],[1,903,43,22,"read"],[1,905,43,29,"read"],[1,910,44,20,"reader"],[1,912,45,25,"read"],[1,919,46,25,"then"],[1,924,46,30],[1,926,46,33,"done"],[1,933,46,39,"value"],[1,945,47,28,"done"],[1,947,48,28,"debug"],[1,949,48,34],[1,971,51,24,"debug"],[1,973,51,30],[1,994,51,52,"value"],[1,997,52,24,"this"],[1,1002,52,29,"onPacket"],[1,1011,52,38,"value"],[1,1014,53,24,"read"],[1,1021,55,25,"catch"],[1,1027,55,32,"err"],[1,1031,56,24,"debug"],[1,1033,56,30],[1,1071,56,69,"err"],[1,1077,59,16,"read"],[1,1081,60,16],[1,1087,60,22,"packet"],[1,1089,60,31],[1,1090,60,33,"type"],[1,1095,60,39],[1,1103,61,20,"this"],[1,1108,61,25,"query"],[1,1114,61,31,"sid"],[1,1120,62,20,"packet"],[1,1122,62,27,"data"],[1,1127,62,34],[1,1138,62,45,"this"],[1,1143,62,50,"query"],[1,1149,62,56,"sid"],[1,1158,64,16,"this"],[1,1163,64,21,"_writer"],[1,1171,64,29,"write"],[1,1177,64,35,"packet"],[1,1180,64,43,"then"],[1,1185,64,48],[1,1189,64,54,"this"],[1,1194,64,59,"onOpen"],[1,1207,67,4],[1,1208,68,4,"write"],[1,1214,68,10,"packets"],[1,1217,69,8,"this"],[1,1222,69,13,"writable"],[1,1232,69,24],[1,1234,70,8],[1,1238,70,13],[1,1242,70,17,"i"],[1,1244,70,21],[1,1246,70,24,"i"],[1,1248,70,28,"packets"],[1,1250,70,36,"length"],[1,1257,70,44,"i"],[1,1261,70,49],[1,1262,71,12],[1,1268,71,18,"packet"],[1,1270,71,27,"packets"],[1,1272,71,35,"i"],[1,1275,72,18,"lastPacket"],[1,1277,72,31,"i"],[1,1281,72,37,"packets"],[1,1283,72,45,"length"],[1,1290,72,54],[1,1292,73,12,"this"],[1,1297,73,17,"_writer"],[1,1305,73,25,"write"],[1,1311,73,31,"packet"],[1,1314,73,39,"then"],[1,1319,73,44],[1,1324,74,20,"lastPacket"],[1,1328,75,20],[1,1330,75,20,"nextTick"],[1,1342,75,29],[1,1347,76,24,"this"],[1,1352,76,29,"writable"],[1,1362,76,40],[1,1364,77,24,"this"],[1,1369,77,29,"emitReserved"],[1,1382,77,42],[1,1392,78,23,"this"],[1,1397,78,28,"setTimeoutFn"],[1,1412,81,8],[1,1413,82,4],[1,1414,83,4,"doClose"],[1,1424,84,8],[1,1428,84,12,"_a"],[1,1430,85,35],[1,1438,85,9,"_a"],[1,1440,85,14,"this"],[1,1445,85,19,"_transport"],[1,1463,85,45,"undefined"],[1,1467,85,43,"_a"],[1,1470,85,68,"_a"],[1,1472,85,71,"close"],[1,1479,86,4],[1,1481,87,1,"e"],[1,1483,87,1,"WT"],[1,1487,87,1],[1,1490]],"functionMap":{"names":["<global>","WT","WT#get__name","WT#doOpen","_transport.closed.then$argument_0","_transport.closed.then._catch$argument_0","_transport.ready.then$argument_0","_transport.createBidirectionalStream.then$argument_0","read","reader.read.then$argument_0","reader.read.then._catch$argument_0","_writer.write.then$argument_0","WT#write","nextTick$argument_0","WT#doClose"],"mappings":"AAA;OCa;ICC;KDE;IEC;kBCS;SDG;mBEC;SFG;mCGE;6DCC;6BCM;8BCG;qBDQ;+BEC;qBFE;iBDC;gDIM,mBJ;aDC;SHC;KFC;IWC;4CDK;6BEE;qBFG;aCE;KXE;IaC;KbG;CDC"}},"type":"js/module"}]}